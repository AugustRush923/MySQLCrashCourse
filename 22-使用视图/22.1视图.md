# 视图

视图是虚拟的表。与包含数据的表不一样，视图只包含使用时动态检索数据的查询。

假设现在查询的数据存在于多张表内，需要通过特定的关联关系来连接这多张表。每个使用这些数据的人都要先去了解关联关系。假设这些数据在一张虚拟表内，则可以更容易的查出所有需要的数据。

这就是视图的作用，作为视图，它不包含表中应该有的任何列或数据，它包含的是一个SQL查询。

## 为什么使用视图

视图的常用应用：

* 重用SQL语句。
* 简化复杂的SQL操作。在编写查询后，可以方便地重用它而不必知道它的基本查询细节。
* 保护表的组成部分而不是整个表。
* 保护数据。可以给用户授予表的特定部分的访问权限而不是整个表的访问权限。
* 更改数据格式和表示。视图可返回与底层表的表示和格式不同的数据。

在视图创建之后，可以用与表基本相同的方式利用它们。可以对视图执行`SELECT`操作，过滤和排序数据，将视图联结到其他视图或表，甚至能添加和更新数据。

重要的是知道视图仅仅是用来查看存储在别处的数据的一种设施。视图本身不包含数据，因此它们返回的数据是从其他表中检索出来的。在添加或更改这些表中的数据时，视图将返回改变过的数据。

> **性能问题** 因为视图不包含数据，所以每次使用视图时，都必须处理查询执行时所需的任一个检索。如果你用多个联结和过滤创建了复杂的视图或者嵌套了视图，可能会发现性能下降得很厉害。因此，在部署使用了大量视图的应用前，应该进行测试。

## 视图的规则和限制

常见的规则和限制。

* 与表一样，视图必须唯一命名。
* 对于可以创建的视图数目没有限制。
* 为了创建视图，必须具有足够的访问权限。这些限制通常由数据库管理人员授予。
* 视图可以嵌套，即可以利用从其他视图中检索数据的查询来构造一个视图。
* ORDER BY可以用在视图中，但如果从该视图检索数据SELECT中也含有ORDER BY，那么该视图中的ORDER BY将被覆盖。
* 视图不能索引，也不能有关联的触发器或默认值。
* 视图可以和表一起使用。
